###############################################################################
#                                                                             #
# IAR ARM ANSI C/C++ Compiler V5.12.0.50667/W32         18/Apr/2008  14:00:36 #
# Copyright 1999-2007 IAR Systems. All rights reserved.                       #
#                                                                             #
#    Cpu mode     =  thumb                                                    #
#    Endian       =  little                                                   #
#    Source file  =  D:\development\gediminas\CAN4USB\project\app\delay.c     #
#    Command line =  D:\development\gediminas\CAN4USB\project\app\delay.c     #
#                    -lC D:\development\gediminas\CAN4USB\project\RELEASE\Lis #
#                    t\ -lA D:\development\gediminas\CAN4USB\project\RELEASE\ #
#                    List\ -o D:\development\gediminas\CAN4USB\project\RELEAS #
#                    E\Obj\ --no_cse --no_unroll --no_inline                  #
#                    --no_code_motion --no_tbaa --no_clustering               #
#                    --no_scheduling --debug --endian little --cpu            #
#                    ARM7TDMI-S -e --fpu None --dlib_config "D:\Program\IAR   #
#                    Systems\Embedded Workbench 5.0\ARM\INC\DLib_Config_Norma #
#                    l.h" -I D:\development\gediminas\CAN4USB\project\ -I     #
#                    D:\development\gediminas\CAN4USB\project\app\ -I         #
#                    D:\development\gediminas\CAN4USB\project\board\ -I       #
#                    D:\development\gediminas\CAN4USB\project\module\ -I      #
#                    D:\development\gediminas\CAN4USB\project\STR75xLibrary\l #
#                    ibrary\inc\ -I j:\common\ -I "D:\Program\IAR             #
#                    Systems\Embedded Workbench 5.0\ARM\INC\" --interwork     #
#                    --cpu_mode thumb -On                                     #
#    List file    =  D:\development\gediminas\CAN4USB\project\RELEASE\List\de #
#                    lay.lst                                                  #
#    Object file  =  D:\development\gediminas\CAN4USB\project\RELEASE\Obj\del #
#                    ay.o                                                     #
#                                                                             #
#                                                                             #
###############################################################################

D:\development\gediminas\CAN4USB\project\app\delay.c
      1          /*
      2             Precise Delay Functions for LPC2100
      3             Martin Thomas, 11/2004
      4          */
      5          
      6          #include "systime.h"
      7          #include "delay.h"
      8          
      9          

   \                                 In section .text, align 4, keep-with-next
     10          void delay_us_( unsigned long delayval )
     11          {
     12            // Not implemented yet
     13          }
   \                     delay_us_:
   \   00000000   7047               BX       LR               ;; return
     14          
     15          

   \                                 In section .text, align 4, keep-with-next
     16          void delay_ms( unsigned long delayval )
     17          {
   \                     delay_ms:
   \   00000000   31B5               PUSH     {R0,R4,R5,LR}
   \   00000002   0400               MOVS     R4,R0
     18            unsigned long d = (unsigned long)( (delayval * 1e-3 * sysTICSperSEC ) + .5 );
   \   00000004   2000               MOVS     R0,R4
   \   00000006   ........           BL       __aeabi_ui2d
   \   0000000A   0200               MOVS     R2,R0
   \   0000000C   0B00               MOVS     R3,R1
   \   0000000E   0C48               LDR      R0,??delay_ms_0  ;; 0xd2f1a9fc
   \   00000010   0C49               LDR      R1,??delay_ms_0+0x4  ;; 0x3f50624d
   \   00000012   ........           BL       __aeabi_dmul
   \   00000016   0200               MOVS     R2,R0
   \   00000018   0B00               MOVS     R3,R1
   \   0000001A   0020               MOVS     R0,#+0
   \   0000001C   0A49               LDR      R1,??delay_ms_0+0x8  ;; 0x408f4000
   \   0000001E   ........           BL       __aeabi_dmul
   \   00000022   0200               MOVS     R2,R0
   \   00000024   0B00               MOVS     R3,R1
   \   00000026   0020               MOVS     R0,#+0
   \   00000028   0849               LDR      R1,??delay_ms_0+0xC  ;; 0x3fe00000
   \   0000002A   ........           BL       __aeabi_dadd
   \   0000002E   ........           BL       __aeabi_d2uiz
   \   00000032   0500               MOVS     R5,R0
     19            pause( d );
   \   00000034   2800               MOVS     R0,R5
   \   00000036   ........           BL       pause
     20          }
   \   0000003A   38BC               POP      {R3-R5}
   \   0000003C   01BC               POP      {R0}
   \   0000003E   0047               BX       R0               ;; return
   \                     ??delay_ms_0:
   \   00000040   FCA9F1D2           DC32     0xd2f1a9fc
   \   00000044   4D62503F           DC32     0x3f50624d
   \   00000048   00408F40           DC32     0x408f4000
   \   0000004C   0000E03F           DC32     0x3fe00000

   Maximum stack usage in bytes:

     Function  .cstack
     --------  -------
     delay_ms      16
     delay_us_      0


   Section sizes:

     Function/Label Bytes
     -------------- -----
     delay_us_         2
     delay_ms         80

 
 82 bytes in section .text
 
 82 bytes of CODE memory

Errors: none
Warnings: none
